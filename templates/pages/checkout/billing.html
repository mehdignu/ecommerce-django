{% extends 'base.html' %} 
{% load static %} 
{% load crispy_forms_tags %}
{% load cart_template_tags %}
{% load i18n %}
{% block head_title %}Checkout{% endblock %}

{% block content %}


    {% include 'partials/_checkout_title.html' %}

    <!-- Page Content-->
    <div class="container pb-5 mb-2 mb-md-4">
      <div class="row">
        <section class="col-lg-8">
          <!-- Steps-->

          <div class="steps steps-light pt-2 pb-3 mb-5"><a class="step-item active">
            <div class="step-progress"><span class="step-count">1</span></div>
            <div class="step-label"><i class="czi-cart"></i>Cart</div></a><a class="step-item active" >
            <div class="step-progress"><span class="step-count">2</span></div>
            <div class="step-label"><i class="czi-user-circle"></i>Your details</div></a><a class="step-item active current" >
            <div class="step-progress"><span class="step-count">3</span></div>
            <div class="step-label"><i class="czi-user-circle"></i>Billing details</div></a><a class="step-item" >
            <div class="step-progress"><span class="step-count">4</span></div>
            <div class="step-label"><i class="czi-package"></i>Shipping</div></a><a class="step-item">
            <div class="step-progress"><span class="step-count">5</span></div>
            <div class="step-label"><i class="czi-card"></i>Payment</div></a><a class="step-item">
            <div class="step-progress"><span class="step-count">6</span></div>
            <div class="step-label"><i class="czi-check-circle"></i>Review</div></a></div>
     
          <!-- Shipping address-->
          <h2 class="h6 pt-1 pb-3 mb-3 border-bottom">Billing address</h2>
          <div class="row">

            <form action="{% url 'checkout:checkout_order' %}" method="POST" class="card-body">
              {% csrf_token %}

              {{ wizard.management_form }}
              
              {% if wizard.form.forms %}

              <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-fn">First Name</label>
                {{ form.first_name_b }}
              </div>
            </div>

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-ln">Last Name</label>
                {{ form.last_name_b }}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-phone">Phone Number</label>
                {{ form.telephone_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-company">Company</label>
                {{ form.company_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-country">Country</label>
                {{ form.country_b }}
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-address">Address</label>
                {{ form.address_b }}
              </div>
            </div>

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-city">City</label>
                {{ form.city_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-street">Street</label>
                {{ form.street_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-region">Region</label>
                {{ form.region_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-zip">Zip</label>
                {{ form.zip_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-fax">fax</label>
                {{ form.fax_b }}
              </div>
            </div>
          </div>


          {% else %}
          
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-fn">First Name</label>
                {{ wizard.form.first_name_b }}
              </div>
            </div>

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-ln">Last Name</label>
                {{ wizard.form.last_name_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <label for="checkout-phone">Phone Number</label>
                {{ wizard.form.telephone_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-company">Company</label>
                {{ wizard.form.company_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-country">Country</label>
                {{ wizard.form.country_b }}
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-address">Address</label>
                {{ wizard.form.address_b }}
              </div>
            </div>

            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-city">City</label>
                {{ wizard.form.city_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-street">Street</label>
                {{ wizard.form.street_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-region">Region</label>
                {{ wizard.form.region_b }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-zip">Zip</label>
                {{ wizard.form.zip_b }}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="checkout-fax">fax</label>
                {{ wizard.form.fax_b }}
              </div>
            </div>
          </div>
  

          {% endif %}
          <!-- Navigation (desktop)-->
          <div class="d-none d-lg-flex pt-4 mt-3">
            {% if wizard.steps.prev %}
            
              <!-- <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}">{% trans "first step" %}</button> -->
              <div class="w-50 pr-3"><button formnovalidate="formnovalidate" class="btn btn-secondary btn-block" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}"><i class="czi-arrow-left mt-sm-0 mr-1"></i><span class="d-none d-sm-inline">{% trans "Back to Adresses" %}</span><span class="d-inline d-sm-none">Back</span></button></div>


            {% endif %}

              <div class="w-50 pl-2"><button class="btn btn-primary btn-block" type="submit" value="{% trans "submit" %}"><span class="d-none d-sm-inline">Proceed to Shipment</span><span class="d-inline d-sm-none">Next</span><i class="czi-arrow-right mt-sm-0 ml-1"></i></button></div>

          </div>
        </section>

             {% include "partials/_checkout_sidebar.html" %}

      </div>
      <!-- Navigation (mobile)-->
      <div class="row d-lg-none">
        <div class="col-lg-8">
          <div class="d-flex pt-4 mt-3">

            {% if wizard.steps.prev %}
            
            <div class="w-50 pr-3"><button formnovalidate="formnovalidate" class="btn btn-secondary btn-block" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}"><i class="czi-arrow-left mt-sm-0 mr-1"></i><span class="d-none d-sm-inline">{% trans "Back to Shipping" %}</span><span class="d-inline d-sm-none">Back</span></button></div>  


          {% endif %}
          
          <div class="w-50 pl-2"><button class="btn btn-primary btn-block" type="submit" value="{% trans "submit" %}"><span class="d-none d-sm-inline">Proceed to Shipping</span><span class="d-inline d-sm-none">Next</span><i class="czi-arrow-right mt-sm-0 ml-1"></i></button></div>
          </div>
        </div>
      </div>
    </div>

  </form>

{% endblock content %}